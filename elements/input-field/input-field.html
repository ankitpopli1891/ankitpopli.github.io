<!--
@license
Copyright (c) 2015 The Polymer Project Authors. All rights reserved.
This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
Code distributed by Google as part of the polymer project is also
subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
-->
<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/iron-form-element-behavior/iron-form-element-behavior.html">
<link rel="import" href="../../bower_components/iron-input/iron-input.html">


<dom-module id="input-field">
    <template>

        <style>
            :host {
                position: relative;
                z-index: 1;
                display: inline-block;
                margin: .1em 1em;
                max-width: 400px;
                width: calc(100% - 2em);
                vertical-align: top;
            }
            
            input {
                position: relative;
                display: block;
                float: right;
                padding: .75em .1em .25em;
                width: 100%;
                border: none;
                border-radius: 0;
                background: 0 0;
                color: #CE5F5F;
                font-weight: 700;
                font-family: "Helvetica Neue", Helvetica, Arial, sans-serif;
            }

            input:focus {
                outline: 0;
            }

            input:focus+label::before {
                background-color: #CE5F5F;
                transform: scale3d(1, 1, 1);
            }

            input:focus+label {
                pointer-events: none;
            }

            input:focus+label span {
                opacity: 0;
                transform: translate3d(0, -50%, 0);
            }

            input:focus+label::after {
                opacity: 1;
                transform: translate3d(0, 0, 0);
            }

            label {
                position: relative;
                overflow: hidden;
                padding: 0;
                width: 100%;
                color: #CE5F5F;
                text-align: left;
                display: inline-block;
                float: right;
                user-select: none;
            }

            span {
                position: relative;
                display: block;
                width: 100%;
                padding: .75em .15em;
                transition: opacity .3s, transform .3s;
                transition-timing-function: cubic-bezier(.2, 1, .3, 1);
            }

            label::before {
                content: '';
                position: absolute;
                top: 0;
                width: 100%;
                height: 3px;
                background: #CE5F5F;
                transform: scale3d(1, .4, 1);
                transform-origin: 50% 100%;
                transition: transform .3s, background-color .3s;
                transition-timing-function: cubic-bezier(.2, 1, .3, 1);
            }

            label::after {
                content: attr(data-content);
                position: absolute;
                top: 0;
                left: 0;
                padding: .75em .15em;
                color: #CE5F5F;
                opacity: 0;
                transform: translate3d(0, 50%, 0);
                transition: opacity .3s, transform .3s;
                transition-timing-function: cubic-bezier(.2, 1, .3, 1);
                pointer-events: none;
            }
        </style>
        <input is="iron-input" id="input" aria-labelledby$="[[_ariaLabelledBy]]" aria-describedby$="[[_ariaDescribedBy]]" disabled$="[[disabled]]" bind-value="{{value}}" invalid="{{invalid}}" prevent-invalid-input="[[preventInvalidInput]]" allowed-pattern="[[allowedPattern]]"
        validator="[[validator]]" type$="[[type]]" pattern$="[[pattern]]" required$="[[required]]" autocomplete$="[[autocomplete]]" autofocus$="[[autofocus]]" inputmode$="[[inputmode]]" minlength$="[[minlength]]" maxlength$="[[maxlength]]" min$="[[min]]"
        max$="[[max]]" step$="[[step]]" name$="[[name]]" placeholder$="[[placeholder]]" readonly$="[[readonly]]" list$="[[list]]" size$="[[size]]" autocapitalize$="[[autocapitalize]]" autocorrect$="[[autocorrect]]" on-change="_onChange" autosave$="[[autosave]]"
        results$="[[results]]" accept$="[[accept]]" multiple$="[[multiple]]">
        <label for="[[name]]" data-content="[[label]]">
            <span>[[label]]</span>
        </label>

    </template>
</dom-module>

<script>
    Polymer({
        is: 'input-field',
        behaviors: [
            Polymer.IronFormElementBehavior,
            Polymer.IronControlState
        ]
    });
</script>
